---
capitolo: 2
layout: "../../../layouts/PostsLayout.astro"
peppino: true
---

# Struttura sistema operativo

Ci sono cose che ci interessa sapere di un sistema e cose no. Prima non esistevano interfacce grafiche e si usavano solo le shell. Una shell rimane in attesa i comandi dell'utente. L'interprete dei comandi √® esso stesso un programma.

## Servizi di sistema

Ci sono dei programmi che non fanno parte del SO ma che vengono forniti con esso. Esempio il Block notes, compliatori vari, borsewer ecc...

## Chiamate di sistema

:::def

chiamiamo un **processo** un programma in esecuzione

:::

Le chiamate di sistema sono il mediatore tra il sistema operativo e l'utente finale, per esempio in Unix assumono la forma di procedure scritti con `C, C++` ecc...
Quando chiamiamo una system call il sistema operativo esegue un metodo scritto in esso.

Per esempio nel seguente codice scritto in C:

```c showLineNumbers
int fd, i;
fd = open(‚ÄúnomeFile‚Äù, O_WRONLY);
i = write(fd, ‚Äùciao!‚Äù, sizeof(‚Äúciao!‚Äù));
close(fd);
```

Le System calls √® `open, write, close`.

## Cosa sono le API

Le API(Application Programming Interface), le API non sono altro che uno strato intermedio tra le
applicazioni sviluppate dai programmatori e le system call,
per rendere pi√π facile l‚Äôuso e migliorare la portabilit√† delle
applicazioni.

Le API agevolano la vita noi sviluppatori üßë‚Äçüíª, nel percorso di SO-lab useremo delle API su `C` (ma sono _molto_ simili).

## Gestione dei processi

In un dato istante sono attivi pi√π processi in un momento, un solo √® programma √® in esecuzione. Si parla di **processi** concorrenti perch√® questi competono per usare le risorse hardware delle macchina:

- la CPU
- lo spazio in memoria primaria e secondaria
- i dispositivi I/O

Il SO deve gestire i processi e con gestire intendiamo fare queste azioni:

- crearlo
- sospenderlo
- riavviarlo
- sincronizzarlo
- comunicazione tra i processi

Un programma per essere eseguito deve essere caricato nella RAM, grazie al time-sharing questo deve essere caricato in memoria primaria.

## Gestione del file system

Quasi ogni informazione presente nel sistema √® contenuta in un **file**, essi sono organizzati in una gerarchia detta **File System** mediante **cartelle** (o directory, o folder).

Il SO √® responsabile di:

- Creare e cancellare un file o directory
- Fornire strumenti di gestione del file system
- Memorizzazione efficiente i file

## Macchine virtuali

Un moderno SO trasforma la macchina reale una sorta di macchia virtuale.
